<div class="artist-details-container">
  <ng-container *ngIf="images$ | async as images">
    <ng-container *ngIf="artist$ | async as artist">
      <div class="artist-info-container">
        <div class="artist-image image-300-container-black">
          <ng-container *ngIf="getImage(images, artist.image) as imageUrl">
            <img [src]="imageUrl" class="image-300"/>
          </ng-container>
        </div>

        <div class="artist-info-main">
          <h1>{{ artist.name }}</h1>
          <p>{{ artist.mbid }}</p>

          <div class="actions">
            <button (click)="addNewAlbum()" mat-flat-button>Add new album</button>
            <button (click)="selectMbid()" mat-flat-button>Link with MusicBrainZ</button>
          </div>
        </div>
      </div>
    </ng-container>

    <mat-tab-group>
      <mat-tab label="Albums">
        <app-album-list
          [albums]="albums$ | async"
          [images]="images"
        ></app-album-list>
      </mat-tab>
      <mat-tab label="Favorite">
        <app-album-list
          [albums]="favoriteAlbums$ | async"
          [images]="images"
        ></app-album-list>
      </mat-tab>
    </mat-tab-group>
  </ng-container>
</div>
